webpackJsonp([5],{2:function(e,t,n){"use strict";(function(e){n(4);var t=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(t);ajax("checksession","https://nx.smsc.net.cn/wxopen/app/shop/checksession.php/").then(function(e){console.log("登录成功状态！")}),e(document).ready(function(){function t(){console.log("退出");var e=function(){ajax("loginout","https://nx.smsc.net.cn/wxopen/app/shop/logout.php/").then(function(e){console.log("退出登录成功！",e)})};return a.default.myLayerTips("是否退出？",e,"取消","确定")}e("#loginout").on("click",t)})}).call(t,n(0))},3:function(e,t){},31:function(e,t,n){"use strict";(function(e){n(2);var t=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(t);n(3),e(document).ready(function(){function t(){var t="";ajax(Api("getEmpList")).then(function(n){var o=n.data,i=o.length;if(s=o,i>0){t+="<thead>< tr > <th>员工姓名</th> <th>员工类型</th> <th>联系方式</th> <th>更新时间</th> <th>加入时间</th>  <th>操作</th> </tr > </thead ><tbody>";for(var l=0;l<i;l++){var d=o[l];t+="\n                        <tr>\n                            <td>"+d.name+"</td>\n                            <td>"+d.usertype+"</td>\n                            <td>"+d.uptime+"</td>\n                            <td>"+d.intime+"</td>\n                            <td>"+d.contact+' </td>\n                            <td> \n                                <input type="hidden" value="'+d.id+'">\n                                <button class="btn btn-warning" id="employee-edit-btn">编辑</button>\n                                <button class="btn btn-danger" id="employee-delet-btn">删除</button>\n                            </td>\n                        </tr>\n                        '}t+="</tbody>"}else t="<p>暂无数据！</p>";a.default.addHtml(e(".employee-table"),t)})}function n(t,n){var o=e(this).parent().children("input").val(),i=function(){ajax(Api(t,{empid:o})).then(function(e){200===e.code?(a.default.myLayer("删除成功！",1),n()):a.default.myLayer("删除失败！",5)})};return a.default.myLayerTips("是否删除所选！",i)}var o=e(".employee"),i={},s=[],l=new Set;i.edit=!1,t();var d={url1:"getRoles",url2:"getStoreList",store:"#checkedStore",roles:"#checkedRoles",add_list:"#add-store-soles",dele_list:"delet-store-soles",warpul:"#bind-store ul",warp:"#bind-store",text:"店铺"};a.default.getSelectList(d,l),o.on("click","#employee-edit-btn",function(){var t=e(this).parent().children("input").val();e(".edit-employee").trigger("click"),ajax(Api("getEmp",{empid:t})).then(function(t){var n=t.data,a=e(".employee-form");a.find('input[name="name"]').val(n.name),a.find('input[name="contact"]').val(n.contact),a.find('input[name="usertype"]').val(n.usertype),i.edit=!0})}),o.on("click","#employee-delet-btn",function(){n("deletEmp",t)});var r=Object.assign(Object.assign({},a.default.validatorOptions),{fields:{name:{validators:{notEmpty:{message:"姓名不能为空"},stringLength:{min:2,max:30,message:"姓名长度不能小于2位或超过30位"},regexp:{regexp:/^[A-Za-z\u4e00-\u9fa5]+$/,message:"姓名只能由字母和汉字组成。"}}},pass:{validators:{notEmpty:{message:"密码不能为空！"},stringLength:{min:6,max:30,message:"密码长度不能小于6位或超过30位"},regexp:{regexp:/^[a-zA-Z0-9_\.]+$/,message:"密码只能由字母、数字和下划线。"}}},employeePasswordTwo:{validators:{notEmpty:{message:"密码不能为空！"},stringLength:{min:6,max:30,message:"密码长度不能小于6位或超过30位"},regexp:{regexp:/^[a-zA-Z0-9_\.]+$/,message:"密码只能由字母、数字和下划线。"},identical:{field:"pass",message:"两次输入密码不匹配"}}},contact:{validators:{notEmpty:{message:"手机号码不能为空！"},regexp:{regexp:/^1\d{10}$/,message:"手机号码格式不正确。"}}}}});a.default.toggle(e(".edit-employee"),e(".employee-table"),e(".employee-form"),r,i,"添加"),e(".edit-employee").on("click",function(){l.clear(),e("#bind-store").unbind("click"),e("#bind-store ul").empty(),e("#checkedRoles").selectpicker("refresh")});var c=e(".employee-form");e(".employee-btn-add").click(function(){if(console.log(i),c.bootstrapValidator("validate"),c.data("bootstrapValidator").isValid()){var n=c.serializeArray(),o={};n.forEach(function(e){"employeePasswordTwo"!==e.name&&(o[e.name]=e.value)});var s="addEmp";i.edit&&(s="updateEmp",o=Object.assign(o,{empid:2}));var l=a.default.getSelectedValue();o=Object.assign(o,{typeRoles:l}),ajax(Api(s,o)).then(function(n){n?(c[0].reset(),t(),e(".edit-employee").trigger("click")):a.default.myLayer("请求失败！",5)})}})})}).call(t,n(0))}},[31]);