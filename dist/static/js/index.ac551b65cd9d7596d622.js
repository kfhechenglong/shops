webpackJsonp([3],[,,function(t,e,n){"use strict";(function(t){n(12);var e=n(1),o=function(t){return t&&t.__esModule?t:{default:t}}(e);n(3);n(11),t(document).ready(function(){function e(){console.log("退出");var t=function(){ajax("loginout","https://nx.smsc.net.cn/wxopen/app/shop/logout.php/").then(function(t){console.log("退出登录成功！",t)})};return o.default.myLayerTips("是否退出？",t,"取消","确定")}t("#loginout").on("click",e)})}).call(e,n(0))},function(t,e,n){"use strict";function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function a(t,e,n){if(t&&c.isObject(t)&&t instanceof o)return t;var a=new o;return a.parse(t,e,n),a}function r(t){return c.isString(t)&&(t=a(t)),t instanceof o?t.format():o.prototype.format.call(t)}function s(t,e){return a(t,!1,!0).resolve(e)}function i(t,e){return t?a(t,!1,!0).resolveObject(e):e}var h=n(4),c=n(7);e.parse=a,e.resolve=s,e.resolveObject=i,e.format=r,e.Url=o;var l=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,p=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,f=["<",">",'"',"`"," ","\r","\n","\t"],m=["{","}","|","\\","^","`"].concat(f),d=["'"].concat(m),v=["%","/","?",";","#"].concat(d),y=["/","?","#"],g=/^[+a-z0-9A-Z_-]{0,63}$/,b=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},j={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},O=n(8);o.prototype.parse=function(t,e,n){if(!c.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",r=t.split(a),s=/\\/g;r[0]=r[0].replace(s,"/"),t=r.join(a);var i=t;if(i=i.trim(),!n&&1===t.split("#").length){var u=p.exec(i);if(u)return this.path=i,this.href=i,this.pathname=u[1],u[2]?(this.search=u[2],this.query=e?O.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var f=l.exec(i);if(f){f=f[0];var m=f.toLowerCase();this.protocol=m,i=i.substr(f.length)}if(n||f||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var A="//"===i.substr(0,2);!A||f&&j[f]||(i=i.substr(2),this.slashes=!0)}if(!j[f]&&(A||f&&!w[f])){for(var C=-1,I=0;I<y.length;I++){var q=i.indexOf(y[I]);-1!==q&&(-1===C||q<C)&&(C=q)}var k,U;U=-1===C?i.lastIndexOf("@"):i.lastIndexOf("@",C),-1!==U&&(k=i.slice(0,U),i=i.slice(U+1),this.auth=decodeURIComponent(k)),C=-1;for(var I=0;I<v.length;I++){var q=i.indexOf(v[I]);-1!==q&&(-1===C||q<C)&&(C=q)}-1===C&&(C=i.length),this.host=i.slice(0,C),i=i.slice(C),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var L=this.hostname.split(/\./),I=0,M=L.length;I<M;I++){var N=L[I];if(N&&!N.match(g)){for(var S="",E=0,F=N.length;E<F;E++)N.charCodeAt(E)>127?S+="x":S+=N[E];if(!S.match(g)){var P=L.slice(0,I),V=L.slice(I+1),$=N.match(b);$&&(P.push($[1]),V.unshift($[2])),V.length&&(i="/"+V.join(".")+i),this.hostname=P.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=h.toASCII(this.hostname));var _=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+_,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!x[m])for(var I=0,M=d.length;I<M;I++){var T=d[I];if(-1!==i.indexOf(T)){var H=encodeURIComponent(T);H===T&&(H=escape(T)),i=i.split(T).join(H)}}var Z=i.indexOf("#");-1!==Z&&(this.hash=i.substr(Z),i=i.slice(0,Z));var J=i.indexOf("?");if(-1!==J?(this.search=i.substr(J),this.query=i.substr(J+1),e&&(this.query=O.parse(this.query)),i=i.slice(0,J)):e&&(this.search="",this.query={}),i&&(this.pathname=i),w[m]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var _=this.pathname||"",K=this.search||"";this.path=_+K}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",o=this.hash||"",a=!1,r="";this.host?a=t+this.host:this.hostname&&(a=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(r=O.stringify(this.query));var s=this.search||r&&"?"+r||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||w[e])&&!1!==a?(a="//"+(a||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):a||(a=""),o&&"#"!==o.charAt(0)&&(o="#"+o),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+a+n+s+o},o.prototype.resolve=function(t){return this.resolveObject(a(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(c.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,a=Object.keys(this),r=0;r<a.length;r++){var s=a[r];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var i=Object.keys(t),h=0;h<i.length;h++){var l=i[h];"protocol"!==l&&(n[l]=t[l])}return w[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!w[t.protocol]){for(var u=Object.keys(t),p=0;p<u.length;p++){var f=u[p];n[f]=t[f]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||j[t.protocol])n.pathname=t.pathname;else{for(var m=(t.pathname||"").split("/");m.length&&!(t.host=m.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),n.pathname=m.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var d=n.pathname||"",v=n.search||"";n.path=d+v}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=g||y||n.host&&t.pathname,x=b,O=n.pathname&&n.pathname.split("/")||[],m=t.pathname&&t.pathname.split("/")||[],A=n.protocol&&!w[n.protocol];if(A&&(n.hostname="",n.port=null,n.host&&(""===O[0]?O[0]=n.host:O.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===m[0]?m[0]=t.host:m.unshift(t.host)),t.host=null),b=b&&(""===m[0]||""===O[0])),g)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,O=m;else if(m.length)O||(O=[]),O.pop(),O=O.concat(m),n.search=t.search,n.query=t.query;else if(!c.isNullOrUndefined(t.search)){if(A){n.hostname=n.host=O.shift();var C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");C&&(n.auth=C.shift(),n.host=n.hostname=C.shift())}return n.search=t.search,n.query=t.query,c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!O.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var I=O.slice(-1)[0],q=(n.host||t.host||O.length>1)&&("."===I||".."===I)||""===I,k=0,U=O.length;U>=0;U--)I=O[U],"."===I?O.splice(U,1):".."===I?(O.splice(U,1),k++):k&&(O.splice(U,1),k--);if(!b&&!x)for(;k--;k)O.unshift("..");!b||""===O[0]||O[0]&&"/"===O[0].charAt(0)||O.unshift(""),q&&"/"!==O.join("/").substr(-1)&&O.push("");var R=""===O[0]||O[0]&&"/"===O[0].charAt(0);if(A){n.hostname=n.host=R?"":O.length?O.shift():"";var C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");C&&(n.auth=C.shift(),n.host=n.hostname=C.shift())}return b=b||n.host&&O.length,b&&!R&&O.unshift(""),O.length?n.pathname=O.join("/"):(n.pathname=null,n.path=null),c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=u.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){(function(t,o){var a;!function(r){function s(t){throw new RangeError(M[t])}function i(t,e){for(var n=t.length,o=[];n--;)o[n]=e(t[n]);return o}function h(t,e){var n=t.split("@"),o="";return n.length>1&&(o=n[0]+"@",t=n[1]),t=t.replace(L,"."),o+i(t.split("."),e).join(".")}function c(t){for(var e,n,o=[],a=0,r=t.length;a<r;)e=t.charCodeAt(a++),e>=55296&&e<=56319&&a<r?(n=t.charCodeAt(a++),56320==(64512&n)?o.push(((1023&e)<<10)+(1023&n)+65536):(o.push(e),a--)):o.push(e);return o}function l(t){return i(t,function(t){var e="";return t>65535&&(t-=65536,e+=E(t>>>10&1023|55296),t=56320|1023&t),e+=E(t)}).join("")}function u(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:j}function p(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function f(t,e,n){var o=0;for(t=n?S(t/C):t>>1,t+=S(t/e);t>N*O>>1;o+=j)t=S(t/N);return S(o+(N+1)*t/(t+A))}function m(t){var e,n,o,a,r,i,h,c,p,m,d=[],v=t.length,y=0,g=q,b=I;for(n=t.lastIndexOf(k),n<0&&(n=0),o=0;o<n;++o)t.charCodeAt(o)>=128&&s("not-basic"),d.push(t.charCodeAt(o));for(a=n>0?n+1:0;a<v;){for(r=y,i=1,h=j;a>=v&&s("invalid-input"),c=u(t.charCodeAt(a++)),(c>=j||c>S((x-y)/i))&&s("overflow"),y+=c*i,p=h<=b?w:h>=b+O?O:h-b,!(c<p);h+=j)m=j-p,i>S(x/m)&&s("overflow"),i*=m;e=d.length+1,b=f(y-r,e,0==r),S(y/e)>x-g&&s("overflow"),g+=S(y/e),y%=e,d.splice(y++,0,g)}return l(d)}function d(t){var e,n,o,a,r,i,h,l,u,m,d,v,y,g,b,A=[];for(t=c(t),v=t.length,e=q,n=0,r=I,i=0;i<v;++i)(d=t[i])<128&&A.push(E(d));for(o=a=A.length,a&&A.push(k);o<v;){for(h=x,i=0;i<v;++i)(d=t[i])>=e&&d<h&&(h=d);for(y=o+1,h-e>S((x-n)/y)&&s("overflow"),n+=(h-e)*y,e=h,i=0;i<v;++i)if(d=t[i],d<e&&++n>x&&s("overflow"),d==e){for(l=n,u=j;m=u<=r?w:u>=r+O?O:u-r,!(l<m);u+=j)b=l-m,g=j-m,A.push(E(p(m+b%g,0))),l=S(b/g);A.push(E(p(l,0))),r=f(n,y,o==a),n=0,++o}++n,++e}return A.join("")}function v(t){return h(t,function(t){return U.test(t)?m(t.slice(4).toLowerCase()):t})}function y(t){return h(t,function(t){return R.test(t)?"xn--"+d(t):t})}var g=("object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType,"object"==typeof o&&o);var b,x=2147483647,j=36,w=1,O=26,A=38,C=700,I=72,q=128,k="-",U=/^xn--/,R=/[^\x20-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=j-w,S=Math.floor,E=String.fromCharCode;b={version:"1.4.1",ucs2:{decode:c,encode:l},decode:m,encode:d,toASCII:y,toUnicode:v},void 0!==(a=function(){return b}.call(e,n,e,t))&&(t.exports=a)}()}).call(e,n(5)(t),n(6))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){"use strict";e.decode=e.parse=n(9),e.encode=e.stringify=n(10)},function(t,e,n){"use strict";function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,r){e=e||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var i=/\+/g;t=t.split(e);var h=1e3;r&&"number"==typeof r.maxKeys&&(h=r.maxKeys);var c=t.length;h>0&&c>h&&(c=h);for(var l=0;l<c;++l){var u,p,f,m,d=t[l].replace(i,"%20"),v=d.indexOf(n);v>=0?(u=d.substr(0,v),p=d.substr(v+1)):(u=d,p=""),f=decodeURIComponent(u),m=decodeURIComponent(p),o(s,f)?a(s[f])?s[f].push(m):s[f]=[s[f],m]:s[f]=m}return s};var a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";function o(t,e){if(t.map)return t.map(e);for(var n=[],o=0;o<t.length;o++)n.push(e(t[o],o));return n}var a=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,i){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),function(s){var i=encodeURIComponent(a(s))+n;return r(t[s])?o(t[s],function(t){return i+encodeURIComponent(a(t))}).join(e):i+encodeURIComponent(a(t[s]))}).join(e):i?encodeURIComponent(a(i))+n+encodeURIComponent(a(t)):""};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e){},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";(function(t){n(2);var e=n(1),o=function(t){return t&&t.__esModule?t:{default:t}}(e);t(document).ready(function(){function e(){ajax(Api("getCompanyInfo")).then(function(e){var n="";if(t("#header-info img").attr("src",e.data.headimg),t("#header-info .suerName").text(e.data.nickname),e){s=e.data,n='<li class="list-group-item"><span>公司简称：</span><em>'+s.name+'</em></li><li class="list-group-item"><span>公司主体：</span><em>'+s.ownerid+"</em></li>";for(var a="",r=0;r<s.mp.minipro.length;r++){var i=s.mp.minipro[r],h=i.name?"i-selected":"";a+='\n                    <li class="list-group-item clearfix">\n                        <span class="fl"> '+i.vname+'：</span>\n                        <div class="fl minipro-list tc">\n                            <i class="iconfont icon-xiaochengxu '+h+'"></i> \n                            '+i.name+" \n                        </div>\n                    ","i-selected"!==h&&(a+='<div class="fr">\n                                <button id="bind-minipro" data-order="'+i.url+'" type="button" class="btn btn-primary" >绑定小程序</button>\n                            </div>'),a+="</li>"}n+=a;for(var c="",l=0;l<s.mp.fwh.length;l++){var u=s.mp.fwh[l],p=u.name?"i-selected":"";c+='\n                    <li class="list-group-item clearfix">\n                        <span class="fl"> '+u.vname+'：</span>\n                        <div class="fl minipro-list tc">\n                            <i class="iconfont icon-wechat '+p+'"></i> \n                            '+u.name+" \n                        </div>","i-selected"!==p&&(c+='<div class="fr">\n                                 <button id="bind-minipro" data-order="'+u.url+'" type="button" class="btn btn-primary" data-toggle="modal">绑定服务号</button>\n                            </div>'),c+="</li>"}n+=c,n+='\n                <li class="list-group-item">\n                    <span>联系方式：</span>\n                    <em>'+s.contact+"</em>\n                </li>\n            "}else n="<p>暂无数据！</p>";o.default.addHtml(t(".list-company"),n)})}window.addEventListener("message",function(n){if(console.log("from iframe....",n),n.data)try{var a=JSON.parse(n.data);console.log(a),200===a.code?(o.default.myLayer("绑定成功！",1),t("#myModal-company").modal("hide"),e()):o.default.myLayer("绑定失败,请重试！",2,3e3)}catch(t){o.default.myLayer("未知错误！",2)}},!1);var n=t(".company"),a=t(".form-company"),r=t(".list-company"),s={};o.default.checkLogin().then(function(){e()});var i=Object.assign({name:{message:"公司名称不能为空",validators:{notEmpty:{message:"公司名称不能为空"},stringLength:{min:2,max:30,message:"公司名称长度不能小于2位或超过30位"},regexp:{regexp:/^[A-Za-z0-9\u4e00-\u9fa5]+$/,message:"公司名称只能由字母、数字、点和下划线组成。"}}},contact:{validators:{regexp:{regexp:/^[0-9]+$/,message:"只能是数字！"}}}},{}),h=Object.assign(Object.assign({},o.default.validatorOptions),{fields:i}),c="edit";t("#edit").on("click",function(){"cancal"===c?(console.log("取消"),o.default.clearFormContent(a),a.data("bootstrapValidator").destroy(),a.data("bootstrapValidator",null),t("#edit").text("编辑"),c="edit",r.show(),a.hide()):(a.bootstrapValidator(h),t("#inputName").val(s.name),t("#wxs").val(s.contact),t("#edit").text("取消"),c="cancal",r.hide(),a.show())}),n.on("click","#bind-minipro",function(e){var n=t(e.target).attr("data-order");ajax(null,n).then(function(e){if(e.data){t("#myModal-company").modal("show");var n='\n                    <div class="modal-body">\n                        <div style="width:700px; height:549px;margin:0 auto;position:relative">\n                            <div class="shade-top"></div>\n                            <iframe id="wxcode" src="'+e.data+'" frameborder="0" scrolling="no"  width="100%" height="100%;"></iframe>\n                            <div class="shade-bottom"></div>\n                        </div>\n                        \n                    </div>\n                ';t("#myModal-company-inner").empty(),t("#myModal-company-inner").append(n)}})}),t("#myModal-company").on("hidden.bs.modal",function(e){t("#myModal-company-inner").empty(),t("#myModal-company-inner").unbind("click")}),t("#company-submit").click(function(){if(a.bootstrapValidator("validate"),a.data("bootstrapValidator").isValid()){var n=a.serializeArray(),o={};n.forEach(function(t){o[t.name]=t.value}),ajax(Api("updateCompanyInfo",o)).then(function(n){a[0].reset(),e(),t("#edit").trigger("click"),r.show(),a.hide()})}})})}).call(e,n(0))}],[30]);